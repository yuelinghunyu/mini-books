(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"/ueN":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("q1tI"),i=function(e){return e&&e.__esModule?e:{default:e}}(o);n("Oo0j");var a=n("sS9P");var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={user:{}},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"componentWillMount",value:function(){this.setState({user:(0,a.getUser)()})}},{key:"render",value:function(){var e=this.props.bookDes;return i.default.createElement("div",{className:"bookDes-container"},i.default.createElement("img",{className:"des-logo",src:e.logo,alt:"logo"}),i.default.createElement("div",{className:"des-book-description"},i.default.createElement("h3",null,e.title),i.default.createElement("span",{className:"book-desciption-content"},e.description),i.default.createElement("div",{className:"des-user-container"},i.default.createElement("img",{className:"des-user-logo",src:this.state.user.logo,alt:"logo"}),i.default.createElement("span",null,e.author))))}}]),t}();t.default=s},"0Kr1":function(e,t){},"1G4F":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("q1tI"),i=d(o),a=d(n("yac/")),s=d(n("AWUT")),c=d(n("e/xA")),u=d(n("dc4C")),l=d(n("BZl5"));n("Ubl+");var f=d(n("vDqi")),p=n("sS9P"),h=n("9OY/");function d(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={currentIndex:0,bannerList:[],bookTypeList:[],blogList:[],tip:"敬请期待-_-",option:{speed:400,auto:5e3,continuous:!0,transitionEnd:function(e,t){n.transitionEndCallback(e,t)}},bookType:-1,loading:!1,loadMsg:"正在加载..."},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"handleSetBookType",value:function(e){var t=this;this.setState({loading:!1});var n=-1;0!==e&&(n=e);var r={blogType:n};this.setState({bookType:n}),(0,p.getBlogList)(r).then(function(e){e.data.code===h.ERROR_OK&&t.setState({blogList:e.data.data.list},function(){t.setState({loading:!0})})})}},{key:"handleRefresh",value:function(){var e=this,t={blogType:this.state.bookType};(0,p.getBlogList)(t).then(function(t){t.data.code===h.ERROR_OK&&e.setState({blogList:t.data.data.list},function(){e.setState({loading:!0})})})}},{key:"render",value:function(){var e=this,t=[],n=[],r=null,o=null,f=null;return this.state.bannerList.length>0&&this.state.bookTypeList.length>0&&(this.state.bannerList.map(function(r,o){t.push(i.default.createElement("div",{className:"blog-scroll",key:r.id},i.default.createElement("img",{src:r.href,alt:"logo"}))),n.push(i.default.createElement("span",{className:e.state.currentIndex==o?"active":"normal",key:o}))}),r=i.default.createElement(a.default,{ref:function(t){return e.reactSwipe=t},className:"carousel",swipeOptions:this.state.option},t),o=i.default.createElement(c.default,{bookTypeList:this.state.bookTypeList,handleSetBookType:this.handleSetBookType.bind(this)}),f=this.state.loading?0===this.state.blogList.length?i.default.createElement(u.default,{tip:this.state.tip}):i.default.createElement(s.default,{blogList:this.state.blogList,handleRefresh:this.handleRefresh.bind(this)}):i.default.createElement(l.default,{loadMsg:this.state.loadMsg})),i.default.createElement("div",{className:"blog-list-container"},i.default.createElement("div",{className:"blog-swiper"},r,i.default.createElement("p",{className:"dot"},n)),i.default.createElement("div",{className:"blog-list"},o,i.default.createElement("div",{className:"blog-item-container"},f)))}},{key:"transitionEndCallback",value:function(e,t){this.setState({currentIndex:e})}},{key:"componentWillMount",value:function(){var e=this;f.default.all([(0,p.getBannerList)({type:2}),(0,p.getBookTypeList)(),(0,p.getBlogList)({})]).then(f.default.spread(function(t,n,r){if(t.data.code===h.ERROR_OK&&n.data.code===h.ERROR_OK&&r.data.code===h.ERROR_OK){var o=n.data.data.list;o.unshift({id:"all",typeId:0,typeTitle:"全部"}),e.setState({bannerList:t.data.data.list,bookTypeList:o,blogList:r.data.data.list},function(){e.setState({loading:!0})})}}))}}]),t}();t.default=m},"3VZt":function(e,t){},"3n+C":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("q1tI"),i=s(o);n("zhw5");var a=s(n("17x9"));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.redirectBrochure=n.redirectBrochure.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"redirectBrochure",value:function(e){e.preventDefault(),e.stopPropagation();var t="/brochure/"+e.target.getAttribute("id")+"/payed";this.context.router.history.push(t)}},{key:"render",value:function(){var e=this,t=this.props.bookList.map(function(t,n){return i.default.createElement("li",{className:"book-item",key:n,id:t.id,onClick:e.redirectBrochure},i.default.createElement("img",{src:t.logo,id:t.id}),i.default.createElement("div",{className:"book-des",id:t.id},i.default.createElement("h3",{id:t.id},t.title),i.default.createElement("span",{className:"total-calc",id:t.id},parseInt(t.chapters.length),"小节 . ",parseInt(t.payers.length),"人已赞助")))});return i.default.createElement("ul",null,t)}}]),t}();c.contextTypes={router:a.default.object.isRequired},t.default=c},"6z73":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("q1tI"),i=s(o),a=s(n("17x9"));function s(e){return e&&e.__esModule?e:{default:e}}n("s79A");var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={histroy:"",readerText:"开始阅读"},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"componentWillMount",value:function(){var e=localStorage.getItem("history"),t=this.context.router.route.match.params.id,n="";JSON.parse(e)&&(n=JSON.parse(e)[t]),n&&"payed"===this.props.payFlag&&this.setState({readerText:"继续上次阅读"})}},{key:"render",value:function(){var e=null,t=null;return"payed"===this.props.payFlag?e=i.default.createElement("span",{className:"go-on"},this.state.readerText):(e=i.default.createElement("span",{className:"try-read"},"试读"),t=i.default.createElement("span",{className:"pay-for-price"},"购买 ￥9.9")),i.default.createElement("div",{className:"operate-container"},e,t)}}]),t}();c.contextTypes={router:a.default.object.isRequired},t.default=c},"7E3l":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("q1tI"),i=s(o);n("QuNW");var a=s(n("17x9"));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.eventPerson=e.eventPerson.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"eventPerson",value:function(e){e.preventDefault();this.context.router.history.push("/feedback")}},{key:"render",value:function(){return i.default.createElement("div",{className:"personal-container"},i.default.createElement("div",{className:"username-container"},i.default.createElement("img",{src:"static/img/user.jpg",alt:""}),i.default.createElement("span",{className:"username"},"月翎魂雨")),i.default.createElement("div",{className:"personal-div message-center"},i.default.createElement("span",null,"意见反馈"),i.default.createElement("i",{className:"redirect icon iconfont icon-xiayibu",onClick:this.eventPerson})),i.default.createElement("div",{className:"personal-div saled-btn"},i.default.createElement("span",null,"已购"),i.default.createElement("span",null,"2本")),i.default.createElement("div",{className:"ancel-btn"},"退出登录"))}}]),t}();c.contextTypes={router:a.default.object.isRequired},t.default=c},"8WQf":function(e,t){},"9OY/":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=arguments,o=function(e,t){if(0===e.length)return-1;for(var n=0;n<e.length;n++)if(e[n].id===t)return n;return-1};t.guid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})},t.ERROR_OK=0,t.remove=function(e,t){var n=o(e,t);return n>-1&&e.splice(n,1),e},t.add=function(e,t){var n=o(e,t),r=[];return n>-1&&r.push(e[n]),r},t.throttle=function(e,t){var n=r,o=null,i=0,a=new Date;return function(){var r=new Date;(i=r-a)>=t?(o&&clearTimeout(o),e.apply(void 0,n),a=r):o||(o=setTimeout(function(){e.apply(void 0,n),a=new Date},t-i))}},t.indexOf=o},AWUT:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("q1tI"),i=s(o),a=s(n("fC0C"));s(n("17x9"));function s(e){return e&&e.__esModule?e:{default:e}}n("X+Jx"),n("ppA0");var c=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"redirectBlog",value:function(e){window.location.href=e}},{key:"onDown",value:function(){this.props.handleRefresh()}},{key:"onUp",value:function(){}},{key:"render",value:function(){var e=this,t=this.props.blogList.map(function(t,n){return i.default.createElement("li",{className:"li-blog-item",key:n,onClick:e.redirectBlog.bind(e,t.href)},i.default.createElement("p",null,t.title),i.default.createElement("div",{className:"blog-status"},i.default.createElement("p",null,i.default.createElement("i",{className:"icon iconfont icon-chakan"}),i.default.createElement("span",null,t.times," 次")),i.default.createElement("p",null,i.default.createElement("i",{className:"icon iconfont icon-chuangjianshijian"}),i.default.createElement("span",null,t.createTime))))});return i.default.createElement(a.default,{onPullDownRefresh:function(){return e.onDown()},onPullUpLoadMore:function(){return e.onUp()}},i.default.createElement("ul",{className:"li-blog-container"},t))}},{key:"componentDidMount",value:function(){}}]),t}();t.default=c},Am96:function(e,t){},BZl5:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("q1tI"),i=function(e){return e&&e.__esModule?e:{default:e}}(o);n("K5ua");var a=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"render",value:function(){return i.default.createElement("div",{className:"loading-container"},i.default.createElement("span",null),i.default.createElement("span",null,this.props.loadMsg))}}]),t}();t.default=a},"Dq/6":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("q1tI"),i=p(o),a=p(n("17x9"));n("U6Ix");var s=n("sS9P"),c=n("9OY/"),u=p(n("IujW")),l=p(n("dc4C")),f=p(n("l/fQ"));function p(e){return e&&e.__esModule?e:{default:e}}n("Q33a"),n("GzUj");var h=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={bookChapterList:[],displayFlag:!1,tip:"我想阅读",currentIndex:0,currentChapter:"",picShow:""},e.next=e.next.bind(e),e.prev=e.prev.bind(e),e.backIntro=e.backIntro.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"next",value:function(){var e=this,t=this.state.currentIndex;this.state.currentIndex<this.state.bookChapterList.length-1&&(t++,this.setState({currentIndex:t},function(){return e.loadMarkDown()}))}},{key:"prev",value:function(){var e=this,t=this.state.currentIndex;this.state.currentIndex>0&&(t--,this.setState({currentIndex:t},function(){return e.loadMarkDown()}))}},{key:"loadMarkDown",value:function(){var e=!1,t=this.state.bookChapterList[this.state.currentIndex].id,n=this.context.router.route.match.params.bookId,r=this.context.router.route.match.params.pay;!r||0!==this.state.currentIndex&&this.state.currentIndex!==this.state.bookChapterList.length-1||(e=!0);var o="/chapter/"+n+"/"+t+"/"+r+"/"+e;this.context.router.history.replace(o),window.location.reload()}},{key:"backIntro",value:function(e){e.preventDefault();var t="/brochure/"+this.context.router.route.match.params.bookId+"/"+this.context.router.route.match.params.pay;this.context.router.history.push(t)}},{key:"render",value:function(){var e=null;if(this.state.bookChapterList.length>0&&""!==this.state.currentChapter&&this.state.displayFlag){var t=this.state.currentChapter;e=i.default.createElement("div",{id:"mark-down-container"},i.default.createElement(u.default,{source:t}))}else e=i.default.createElement("div",{className:"no-pay-container"},i.default.createElement(l.default,{tip:this.state.tip}));return i.default.createElement("div",{className:"chapter-container"},i.default.createElement("div",{className:"chapter-scroll-container"},e,i.default.createElement("p",{className:"pay-btn"},"点我购买")),i.default.createElement("div",{className:"chapter-content-footer"},i.default.createElement("i",{className:"icon iconfont icon-left",onClick:this.prev}),i.default.createElement("i",{className:"icon iconfont icon-menu",onClick:this.backIntro}),i.default.createElement("i",{className:"icon iconfont icon-right",onClick:this.next})),i.default.createElement(f.default,{pics:this.state.picShow}))}},{key:"componentWillMount",value:function(){var e=this,t=this.context.router.route.match.params.bookId,n=JSON.parse(this.context.router.route.match.params.flag),r=this.context.router.route.match.params.chapterId,o={id:t};this.setState({displayFlag:n}),(0,s.getBook)(o).then(function(t){if(t.data.code===c.ERROR_OK){e.setState({bookChapterList:t.data.data.chapters});var n=(0,c.indexOf)(e.state.bookChapterList,r);e.setState({currentIndex:n});var o={url:e.state.bookChapterList[e.state.currentIndex].href};e.getIntroMd(o)}})}},{key:"getIntroMd",value:function(e){var t=this;(0,s.getIntroMd)(e).then(function(e){t.setState({currentChapter:e.data});for(var n=document.getElementsByTagName("img"),r=t,o=0;o<n.length;o++)n[o].addEventListener("click",function(){r.setState({picShow:this.src}),document.getElementsByClassName("img-container")[0].style.display="block",new Pic(".m-pic").picInit()})})}}]),t}();h.contextTypes={router:a.default.object.isRequired},t.default=h},ERIh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n("QdDn");var o=n("q1tI"),i=h(o),a=h(n("oYx3")),s=h(n("Rv7F")),c=n("eO8H"),u=h(n("dwBH")),l=h(n("jqb2")),f=h(n("Dq/6")),p=h(n("Xqdq"));function h(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={warnConfig:{warnText:"提交失败",warnFlag:"fail",hideFlag:!1}},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){var e=this;this.eventEmitter=l.default.addListener("showWarn",function(t){e.setState({warnConfig:t})})}},{key:"componentWillUnmount",value:function(){l.default.removeListener(this.eventEmitter)}},{key:"render",value:function(){var e=null;return this.state.warnConfig.hideFlag&&(e=i.default.createElement(u.default,{warnText:this.state.warnConfig.warnText,warnFlag:this.state.warnConfig.warnFlag})),i.default.createElement(c.HashRouter,null,i.default.createElement("div",{className:"app-container"},e,i.default.createElement(a.default,null),i.default.createElement(s.default,null),i.default.createElement(c.Route,{path:"/chapter/:bookId/:chapterId/:pay/:flag",component:f.default}),i.default.createElement(c.Route,{path:"/feedback",component:p.default})))}}]),t}();t.default=d},GJ7Q:function(e,t){},GzUj:function(e,t,n){"use strict";!function(){var e=function(e){this._config={},this._id=document.querySelector(e),this.mc=new Hammer.Manager(this._id),this.timer=!1,this.translateX=0,this.translateY=0,this.scale=1,this.firstTouch=!0,this._relateX=(document.body.clientWidth-this._id.offsetWidth)/2,this._relateY=(document.body.clientHeight-this._id.offsetHeight)/2,this._oldX=0,this._oldY=0,this._oldScale=1};e.prototype={constructor:e,picAnimate:function(){return window[Hammer.prefixed(window,"requestAnimationFrame")]||function(e){setTimeout(e,1e3/60)}},_setPosition:function(){document.body.clientWidth,this._id.offsetWidth,document.body.clientHeight,this._id.offsetHeight,this._id.offsetTop,this._id.offsetLeft,this._selfPosition({translateX:this._relateX,translateY:this._relateY,scale:this.scale})},_selfPosition:function(e){var t=this;t._picAnimate(function(){var n=["translate3d("+e.translateX+"px,"+e.translateY+"px,0)","scale("+e.scale+","+e.scale+")"];n=n.join(" "),t._id.style.transform=n,t._id.innerHTML=n})},_picAnimate:function(e){return this.picAnimate()(e)},onPan:function(e){this.translateX=e.deltaX,this.translateY=e.deltaY,this._position={translateX:e.deltaX,translateY:e.deltaY,scale:this.scale}},onPinch:function(){this.scale*=ev.scale,this._selfPosition({translateX:this.translateX,translateY:this.translateY,scale:this.scale})},picInit:function(){var e=this;e.mc.on("hammer.input",function(t){t.isFinal&&(e._oldX=e.translateX,e._oldY=e.translateY,e._oldScale=e.scale)}),e.mc.add(new Hammer.Pan({direction:Hammer.DIRECTION_ALL,threshold:0,pointers:0})),e.mc.add(new Hammer.Pinch({threshold:0})).recognizeWith(e.mc.get("pan")),e.mc.on("panstart panmove",function(t){e.firstTouch&&(e._oldX=e._relateX,e._oldY=e._relateY);e.translateX=e._oldX+t.deltaX,e.translateY=e._oldY+t.deltaY;var n={translateX:e.translateX,translateY:e.translateY,scale:e.scale};e._selfPosition(n),e.firstTouch=!1}),e.mc.on("pinchstart pinchmove",function(t){e.scale=e._oldScale*t.scale,e._selfPosition({translateX:e.translateX,translateY:e.translateY,scale:e.scale}),e._selfPosition(e._position)}),e._setPosition()}},window.Pic=e}()},H1rr:function(e,t){},JlVM:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("q1tI"),i=s(o);n("8WQf");var a=s(n("17x9"));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.redirectBrochure=n.redirectBrochure.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"redirectBrochure",value:function(e){e.preventDefault(),e.stopPropagation();var t=e.target.getAttribute("id"),n=e.target.getAttribute("flag");if(console.log(e.target),null!==t&&null===n){console.log("跳转");var r="/brochure/"+t+"/nopay";this.context.router.history.push(r)}else console.log("支付")}},{key:"render",value:function(){var e=this,t=this.props.bookList.map(function(t,n){return i.default.createElement("li",{className:"book-item",key:n,id:t.id,onClick:e.redirectBrochure},i.default.createElement("img",{src:t.logo,id:t.id}),i.default.createElement("div",{className:"book-des",id:t.id},i.default.createElement("h3",{id:t.id},t.title),i.default.createElement("span",{className:"book-author",id:t.id},t.author),i.default.createElement("span",{className:"total-calc",id:t.id},parseInt(t.chapters.length),"小节 . ",parseInt(t.payers.length),"人已赞助")),i.default.createElement("div",{className:"book-price",id:t.id,flag:"pay"},"￥",parseFloat(t.price)))});return i.default.createElement("div",{className:"book-container"},i.default.createElement("ul",null,t))}}]),t}();c.contextTypes={router:a.default.object.isRequired},t.default=c},K5ua:function(e,t){},NCY0:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("q1tI"),i=f(o);n("loMg");var a=f(n("3n+C")),s=n("sS9P"),c=n("9OY/"),u=f(n("vDqi")),l=f(n("dc4C"));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={bookContactList:[],tip:"你还没有购买小典哦~"},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"render",value:function(){var e=null;return e=0===this.state.bookContactList.length?i.default.createElement(l.default,{tip:this.state.tip}):i.default.createElement(a.default,{bookList:this.state.bookContactList}),i.default.createElement("div",{className:"saled-container"},e)}},{key:"componentWillMount",value:function(){var e=this,t={wxId:(0,s.getUser)().wxId};u.default.all([(0,s.getBookList)({bookType:0}),(0,s.getUserInfo)(t)]).then(u.default.spread(function(t,n){if(t.data.code===c.ERROR_OK&&n.data.code===c.ERROR_OK){var r=Object.prototype.toString.call(n.data.data);if(t.data.data.length>0&&"[object Object]"===r&&n.data.data.books.length>0){var o=n.data.data.books,i=t.data.data,a=[];o.forEach(function(e){a.push((0,c.add)(i,e)[0])}),e.setState({bookContactList:a})}else e.setState({bookContactList:[]})}}))}}]),t}();t.default=p},Oo0j:function(e,t){},Q33a:function(e,t,n){"use strict";var r,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(i,a,s,c){function u(e,t,n){return setTimeout(d(e,n),t)}function l(e,t,n){return!!Array.isArray(e)&&(f(e,n[t],n),!0)}function f(e,t,n){var r;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==c)for(r=0;r<e.length;)t.call(n,e[r],r,e),r++;else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e)}function p(e,t,n){var r="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=i.console&&(i.console.warn||i.console.log);return o&&o.call(i.console,r,n),e.apply(this,arguments)}}function h(e,t,n){var r,o=t.prototype;(r=e.prototype=Object.create(o)).constructor=e,r._super=o,n&&oe(r,n)}function d(e,t){return function(){return e.apply(t,arguments)}}function m(e,t){return(void 0===e?"undefined":o(e))==se?e.apply(t&&t[0]||c,t):e}function y(e,t){return e===c?t:e}function v(e,t,n){f(_(t),function(t){e.addEventListener(t,n,!1)})}function b(e,t,n){f(_(t),function(t){e.removeEventListener(t,n,!1)})}function g(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function E(e,t){return e.indexOf(t)>-1}function _(e){return e.trim().split(/\s+/g)}function w(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var r=0;r<e.length;){if(n&&e[r][n]==t||!n&&e[r]===t)return r;r++}return-1}function O(e){return Array.prototype.slice.call(e,0)}function k(e,t,n){for(var r=[],o=[],i=0;i<e.length;){var a=t?e[i][t]:e[i];w(o,a)<0&&r.push(e[i]),o[i]=a,i++}return n&&(r=t?r.sort(function(e,n){return e[t]>n[t]}):r.sort()),r}function T(e,t){for(var n,r,o=t[0].toUpperCase()+t.slice(1),i=0;i<ie.length;){if((r=(n=ie[i])?n+o:t)in e)return r;i++}return c}function x(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||i}function j(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){m(e.options.enable,[e])&&n.handler(t)},this.init()}function P(e,t,n){var r=n.pointers.length,o=n.changedPointers.length,i=t&Ee&&r-o==0,a=t&(we|Oe)&&r-o==0;n.isFirst=!!i,n.isFinal=!!a,i&&(e.session={}),n.eventType=t,function(e,t){var n=e.session,r=t.pointers,o=r.length;n.firstInput||(n.firstInput=N(t)),o>1&&!n.firstMultiple?n.firstMultiple=N(t):1===o&&(n.firstMultiple=!1);var i=n.firstInput,a=n.firstMultiple,s=a?a.center:i.center,c=t.center=I(r);t.timeStamp=le(),t.deltaTime=t.timeStamp-i.timeStamp,t.angle=L(s,c),t.distance=M(s,c),function(e,t){var n=t.center,r=e.offsetDelta||{},o=e.prevDelta||{},i=e.prevInput||{};t.eventType!==Ee&&i.eventType!==we||(o=e.prevDelta={x:i.deltaX||0,y:i.deltaY||0},r=e.offsetDelta={x:n.x,y:n.y}),t.deltaX=o.x+(n.x-r.x),t.deltaY=o.y+(n.y-r.y)}(n,t),t.offsetDirection=R(t.deltaX,t.deltaY);var u=S(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=u.x,t.overallVelocityY=u.y,t.overallVelocity=ue(u.x)>ue(u.y)?u.x:u.y,t.scale=a?function(e,t){return M(t[0],t[1],Re)/M(e[0],e[1],Re)}(a.pointers,r):1,t.rotation=a?function(e,t){return L(t[1],t[0],Re)+L(e[1],e[0],Re)}(a.pointers,r):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,C(n,t);var l=e.element;g(t.srcEvent.target,l)&&(l=t.srcEvent.target),t.target=l}(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function C(e,t){var n,r,o,i,a=e.lastInterval||t,s=t.timeStamp-a.timeStamp;if(t.eventType!=Oe&&(s>ge||a.velocity===c)){var u=t.deltaX-a.deltaX,l=t.deltaY-a.deltaY,f=S(s,u,l);r=f.x,o=f.y,n=ue(f.x)>ue(f.y)?f.x:f.y,i=R(u,l),e.lastInterval=t}else n=a.velocity,r=a.velocityX,o=a.velocityY,i=a.direction;t.velocity=n,t.velocityX=r,t.velocityY=o,t.direction=i}function N(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:ce(e.pointers[n].clientX),clientY:ce(e.pointers[n].clientY)},n++;return{timeStamp:le(),pointers:t,center:I(t),deltaX:e.deltaX,deltaY:e.deltaY}}function I(e){var t=e.length;if(1===t)return{x:ce(e[0].clientX),y:ce(e[0].clientY)};for(var n=0,r=0,o=0;t>o;)n+=e[o].clientX,r+=e[o].clientY,o++;return{x:ce(n/t),y:ce(r/t)}}function S(e,t,n){return{x:t/e||0,y:n/e||0}}function R(e,t){return e===t?ke:ue(e)>=ue(t)?0>e?Te:xe:0>t?je:Pe}function M(e,t,n){n||(n=Se);var r=t[n[0]]-e[n[0]],o=t[n[1]]-e[n[1]];return Math.sqrt(r*r+o*o)}function L(e,t,n){n||(n=Se);var r=t[n[0]]-e[n[0]],o=t[n[1]]-e[n[1]];return 180*Math.atan2(o,r)/Math.PI}function D(){this.evEl=Le,this.evWin=De,this.pressed=!1,j.apply(this,arguments)}function q(){this.evEl=Be,this.evWin=Ye,j.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function A(){this.evTarget=Xe,this.evWin=We,this.started=!1,j.apply(this,arguments)}function B(){this.evTarget=ze,this.targetIds={},j.apply(this,arguments)}function Y(){j.apply(this,arguments);var e=d(this.handler,this);this.touch=new B(this.manager,e),this.mouse=new D(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function F(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout(function(){var e=r.indexOf(n);e>-1&&r.splice(e,1)},He)}}function X(e,t){this.manager=e,this.set(t)}function W(e){this.options=oe({},this.defaults,e||{}),this.id=he++,this.manager=null,this.options.enable=y(this.options.enable,!0),this.state=rt,this.simultaneous={},this.requireFail=[]}function U(e){return e&ct?"cancel":e&at?"end":e&it?"move":e&ot?"start":""}function z(e){return e==Pe?"down":e==je?"up":e==Te?"left":e==xe?"right":""}function H(e,t){var n=t.manager;return n?n.get(e):e}function K(){W.apply(this,arguments)}function V(){K.apply(this,arguments),this.pX=null,this.pY=null}function G(){K.apply(this,arguments)}function Q(){W.apply(this,arguments),this._timer=null,this._input=null}function J(){K.apply(this,arguments)}function Z(){K.apply(this,arguments)}function $(){W.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ee(e,t){return(t=t||{}).recognizers=y(t.recognizers,ee.defaults.preset),new te(e,t)}function te(e,t){this.options=oe({},ee.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=function(e){var t=e.options.inputClass;return new(t||(me?q:ye?B:de?Y:D))(e,P)}(this),this.touchAction=new X(this,this.options.touchAction),ne(this,!0),f(this.options.recognizers,function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}function ne(e,t){var n,r=e.element;r.style&&(f(e.options.cssProps,function(o,i){n=T(r.style,i),t?(e.oldCssProps[n]=r.style[n],r.style[n]=o):r.style[n]=e.oldCssProps[n]||""}),t||(e.oldCssProps={}))}function re(e,t){var n=a.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}var oe,ie=["","webkit","Moz","MS","ms","o"],ae=a.createElement("div"),se="function",ce=Math.round,ue=Math.abs,le=Date.now;oe="function"!=typeof Object.assign?function(e){if(e===c||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==c&&null!==r)for(var o in r)r.hasOwnProperty(o)&&(t[o]=r[o])}return t}:Object.assign;var fe=p(function(e,t,n){for(var r=Object.keys(t),o=0;o<r.length;)(!n||n&&e[r[o]]===c)&&(e[r[o]]=t[r[o]]),o++;return e},"extend","Use `assign`."),pe=p(function(e,t){return fe(e,t,!0)},"merge","Use `assign`."),he=1,de="ontouchstart"in i,me=T(i,"PointerEvent")!==c,ye=de&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),ve="touch",be="mouse",ge=25,Ee=1,_e=2,we=4,Oe=8,ke=1,Te=2,xe=4,je=8,Pe=16,Ce=Te|xe,Ne=je|Pe,Ie=Ce|Ne,Se=["x","y"],Re=["clientX","clientY"];j.prototype={handler:function(){},init:function(){this.evEl&&v(this.element,this.evEl,this.domHandler),this.evTarget&&v(this.target,this.evTarget,this.domHandler),this.evWin&&v(x(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&b(this.element,this.evEl,this.domHandler),this.evTarget&&b(this.target,this.evTarget,this.domHandler),this.evWin&&b(x(this.element),this.evWin,this.domHandler)}};var Me={mousedown:Ee,mousemove:_e,mouseup:we},Le="mousedown",De="mousemove mouseup";h(D,j,{handler:function(e){var t=Me[e.type];t&Ee&&0===e.button&&(this.pressed=!0),t&_e&&1!==e.which&&(t=we),this.pressed&&(t&we&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:be,srcEvent:e}))}});var qe={pointerdown:Ee,pointermove:_e,pointerup:we,pointercancel:Oe,pointerout:Oe},Ae={2:ve,3:"pen",4:be,5:"kinect"},Be="pointerdown",Ye="pointermove pointerup pointercancel";i.MSPointerEvent&&!i.PointerEvent&&(Be="MSPointerDown",Ye="MSPointerMove MSPointerUp MSPointerCancel"),h(q,j,{handler:function(e){var t=this.store,n=!1,r=e.type.toLowerCase().replace("ms",""),o=qe[r],i=Ae[e.pointerType]||e.pointerType,a=i==ve,s=w(t,e.pointerId,"pointerId");o&Ee&&(0===e.button||a)?0>s&&(t.push(e),s=t.length-1):o&(we|Oe)&&(n=!0),0>s||(t[s]=e,this.callback(this.manager,o,{pointers:t,changedPointers:[e],pointerType:i,srcEvent:e}),n&&t.splice(s,1))}});var Fe={touchstart:Ee,touchmove:_e,touchend:we,touchcancel:Oe},Xe="touchstart",We="touchstart touchmove touchend touchcancel";h(A,j,{handler:function(e){var t=Fe[e.type];if(t===Ee&&(this.started=!0),this.started){var n=function(e,t){var n=O(e.touches),r=O(e.changedTouches);return t&(we|Oe)&&(n=k(n.concat(r),"identifier",!0)),[n,r]}.call(this,e,t);t&(we|Oe)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:ve,srcEvent:e})}}});var Ue={touchstart:Ee,touchmove:_e,touchend:we,touchcancel:Oe},ze="touchstart touchmove touchend touchcancel";h(B,j,{handler:function(e){var t=Ue[e.type],n=function(e,t){var n=O(e.touches),r=this.targetIds;if(t&(Ee|_e)&&1===n.length)return r[n[0].identifier]=!0,[n,n];var o,i,a=O(e.changedTouches),s=[],c=this.target;if(i=n.filter(function(e){return g(e.target,c)}),t===Ee)for(o=0;o<i.length;)r[i[o].identifier]=!0,o++;for(o=0;o<a.length;)r[a[o].identifier]&&s.push(a[o]),t&(we|Oe)&&delete r[a[o].identifier],o++;return s.length?[k(i.concat(s),"identifier",!0),s]:void 0}.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:ve,srcEvent:e})}});var He=2500,Ke=25;h(Y,j,{handler:function(e,t,n){var r=n.pointerType==ve,o=n.pointerType==be;if(!(o&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)(function(e,t){e&Ee?(this.primaryTouch=t.changedPointers[0].identifier,F.call(this,t)):e&(we|Oe)&&F.call(this,t)}).call(this,t,n);else if(o&&function(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var o=this.lastTouches[r],i=Math.abs(t-o.x),a=Math.abs(n-o.y);if(Ke>=i&&Ke>=a)return!0}return!1}.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Ve=T(ae.style,"touchAction"),Ge=Ve!==c,Qe="compute",Je="auto",Ze="manipulation",$e="none",et="pan-x",tt="pan-y",nt=function(){if(!Ge)return!1;var e={},t=i.CSS&&i.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){e[n]=!t||i.CSS.supports("touch-action",n)}),e}();X.prototype={set:function(e){e==Qe&&(e=this.compute()),Ge&&this.manager.element.style&&nt[e]&&(this.manager.element.style[Ve]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return f(this.manager.recognizers,function(t){m(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),function(e){if(E(e,$e))return $e;var t=E(e,et),n=E(e,tt);return t&&n?$e:t||n?t?et:tt:E(e,Ze)?Ze:Je}(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(!this.manager.session.prevented){var r=this.actions,o=E(r,$e)&&!nt[$e],i=E(r,tt)&&!nt[tt],a=E(r,et)&&!nt[et];if(o){var s=1===e.pointers.length,c=e.distance<2,u=e.deltaTime<250;if(s&&c&&u)return}return a&&i?void 0:o||i&&n&Ce||a&&n&Ne?this.preventSrc(t):void 0}t.preventDefault()},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var rt=1,ot=2,it=4,at=8,st=at,ct=16;W.prototype={defaults:{},set:function(e){return oe(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(l(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=H(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return l(e,"dropRecognizeWith",this)?this:(e=H(e,this),delete this.simultaneous[e.id],this)},requireFailure:function(e){if(l(e,"requireFailure",this))return this;var t=this.requireFail;return-1===w(t,e=H(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(l(e,"dropRequireFailure",this))return this;e=H(e,this);var t=w(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){function t(t){n.manager.emit(t,e)}var n=this,r=this.state;at>r&&t(n.options.event+U(r)),t(n.options.event),e.additionalEvent&&t(e.additionalEvent),r>=at&&t(n.options.event+U(r))},tryEmit:function(e){return this.canEmit()?this.emit(e):void(this.state=32)},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(32|rt)))return!1;e++}return!0},recognize:function(e){var t=oe({},e);return m(this.options.enable,[this,t])?(this.state&(st|ct|32)&&(this.state=rt),this.state=this.process(t),void(this.state&(ot|it|at|ct)&&this.tryEmit(t))):(this.reset(),void(this.state=32))},process:function(e){},getTouchAction:function(){},reset:function(){}},h(K,W,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,r=t&(ot|it),o=this.attrTest(e);return r&&(n&Oe||!o)?t|ct:r||o?n&we?t|at:t&ot?t|it:ot:32}}),h(V,K,{defaults:{event:"pan",threshold:10,pointers:1,direction:Ie},getTouchAction:function(){var e=this.options.direction,t=[];return e&Ce&&t.push(tt),e&Ne&&t.push(et),t},directionTest:function(e){var t=this.options,n=!0,r=e.distance,o=e.direction,i=e.deltaX,a=e.deltaY;return o&t.direction||(t.direction&Ce?(o=0===i?ke:0>i?Te:xe,n=i!=this.pX,r=Math.abs(e.deltaX)):(o=0===a?ke:0>a?je:Pe,n=a!=this.pY,r=Math.abs(e.deltaY))),e.direction=o,n&&r>t.threshold&&o&t.direction},attrTest:function(e){return K.prototype.attrTest.call(this,e)&&(this.state&ot||!(this.state&ot)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=z(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),h(G,K,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[$e]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&ot)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),h(Q,W,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Je]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,o=e.deltaTime>t.time;if(this._input=e,!r||!n||e.eventType&(we|Oe)&&!o)this.reset();else if(e.eventType&Ee)this.reset(),this._timer=u(function(){this.state=st,this.tryEmit()},t.time,this);else if(e.eventType&we)return st;return 32},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state===st&&(e&&e.eventType&we?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=le(),this.manager.emit(this.options.event,this._input)))}}),h(J,K,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[$e]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&ot)}}),h(Z,K,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Ce|Ne,pointers:1},getTouchAction:function(){return V.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return n&(Ce|Ne)?t=e.overallVelocity:n&Ce?t=e.overallVelocityX:n&Ne&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&ue(t)>this.options.velocity&&e.eventType&we},emit:function(e){var t=z(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),h($,W,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Ze]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,o=e.deltaTime<t.time;if(this.reset(),e.eventType&Ee&&0===this.count)return this.failTimeout();if(r&&o&&n){if(e.eventType!=we)return this.failTimeout();var i=!this.pTime||e.timeStamp-this.pTime<t.interval,a=!this.pCenter||M(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,a&&i?this.count+=1:this.count=1,this._input=e,0===this.count%t.taps)return this.hasRequireFailures()?(this._timer=u(function(){this.state=st,this.tryEmit()},t.interval,this),ot):st}return 32},failTimeout:function(){return this._timer=u(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==st&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ee.VERSION="2.0.8",ee.defaults={domEvents:!1,touchAction:Qe,enable:!0,inputTarget:null,inputClass:null,preset:[[J,{enable:!1}],[G,{enable:!1},["rotate"]],[Z,{direction:Ce}],[V,{direction:Ce},["swipe"]],[$],[$,{event:"doubletap",taps:2},["tap"]],[Q]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};te.prototype={set:function(e){return oe(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){this.touchAction.preventDefaults(e);var n,r=this.recognizers,o=t.curRecognizer;(!o||o&&o.state&st)&&(o=t.curRecognizer=null);for(var i=0;i<r.length;)n=r[i],2===t.stopped||o&&n!=o&&!n.canRecognizeWith(o)?n.reset():n.recognize(e),!o&&n.state&(ot|it|at)&&(o=t.curRecognizer=n),i++}},get:function(e){if(e instanceof W)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(l(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(l(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=w(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(e!==c&&t!==c){var n=this.handlers;return f(_(e),function(e){n[e]=n[e]||[],n[e].push(t)}),this}},off:function(e,t){if(e!==c){var n=this.handlers;return f(_(e),function(e){t?n[e]&&n[e].splice(w(n[e],t),1):delete n[e]}),this}},emit:function(e,t){this.options.domEvents&&re(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](t),r++}},destroy:function(){this.element&&ne(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},oe(ee,{INPUT_START:Ee,INPUT_MOVE:_e,INPUT_END:we,INPUT_CANCEL:Oe,STATE_POSSIBLE:rt,STATE_BEGAN:ot,STATE_CHANGED:it,STATE_ENDED:at,STATE_RECOGNIZED:st,STATE_CANCELLED:ct,STATE_FAILED:32,DIRECTION_NONE:ke,DIRECTION_LEFT:Te,DIRECTION_RIGHT:xe,DIRECTION_UP:je,DIRECTION_DOWN:Pe,DIRECTION_HORIZONTAL:Ce,DIRECTION_VERTICAL:Ne,DIRECTION_ALL:Ie,Manager:te,Input:j,TouchAction:X,TouchInput:B,MouseInput:D,PointerEventInput:q,TouchMouseInput:Y,SingleTouchInput:A,Recognizer:W,AttrRecognizer:K,Tap:$,Pan:V,Swipe:Z,Pinch:G,Rotate:J,Press:Q,on:v,off:b,each:f,merge:pe,extend:fe,assign:oe,inherit:h,bindFn:d,prefixed:T}),(void 0!==i?i:"undefined"!=typeof self?self:{}).Hammer=ee,void 0===(r=function(){return ee}.call(t,n,t,e))||(e.exports=r)}(window,document)},QdDn:function(e,t){},QuNW:function(e,t){},Rv7F:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("q1tI"),i=s(o),a=s(n("17x9"));function s(e){return e&&e.__esModule?e:{default:e}}n("H1rr");var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={tabList:["首页","典集","已购","我的"],index:0,hideFlag:!0},n.tabEvent=n.tabEvent.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"componentWillMount",value:function(){var e=this.context.router.route.location.pathname;"/blogList"===e?this.setState({index:0}):"/home"===e?this.setState({index:1}):"/saled"===e?this.setState({index:2}):"/personal"===e&&this.setState({index:3})}},{key:"tabEvent",value:function(e){e.preventDefault(),this.setState({index:parseInt(e.target.getAttribute("data-index"))});var t=parseInt(e.target.getAttribute("data-index")),n="";0===t||(1===t?n="/home":2===t?n="/saled":3===t&&(n="/personal")),this.context.router.history.push(n)}},{key:"render",value:function(){var e=this,t=this.state.tabList.map(function(t,n){return i.default.createElement("li",{className:n==e.state.index?"tab-item active":"tab-item",key:n,onClick:e.tabEvent,"data-index":n},i.default.createElement("i",{className:0===n?"tab-i icon iconfont icon-shouye":1===n?"tab-i icon iconfont icon-shujia-xu":2===n?"tab-i icon iconfont icon-zhinengyouhua":"tab-i icon iconfont icon-geren","data-index":n}),i.default.createElement("span",{className:"tab-text","data-index":n},t))});return i.default.createElement("div",{className:"footer-bottom"},i.default.createElement("ul",null,t))}}]),t}();c.contextTypes={router:a.default.object.isRequired},t.default=c},TOEc:function(e,t){},U6Ix:function(e,t){},UB3k:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("q1tI"),i=p(o);n("fBeD");var a=p(n("/ueN")),s=p(n("aDTi")),c=p(n("6z73")),u=p(n("ppxf")),l=n("sS9P"),f=n("9OY/");function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={bookDes:{},payers:[],bookIntro:{},payOrNoPay:""},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props.match.params;this.setState({payOrNoPay:t.pay}),(0,l.getBook)(t).then(function(t){if(t.data.code===f.ERROR_OK){var n=t.data.data;e.setState({bookDes:{id:n.id,title:n.title,logo:n.logo,author:n.author,description:n.description},payers:n.payers,bookIntro:{chapters:n.chapters,introUrl:n.introUrl}})}})}},{key:"render",value:function(){var e=null;return void 0!==this.state.bookIntro.chapters&&(e=i.default.createElement(u.default,{bookIntro:this.state.bookIntro,payFlag:this.state.payOrNoPay})),i.default.createElement("div",{className:"brochure-container"},i.default.createElement("div",null,i.default.createElement(a.default,{bookDes:this.state.bookDes}),i.default.createElement(s.default,{payers:this.state.payers}),i.default.createElement(c.default,{payFlag:this.state.payOrNoPay}),e))}}]),t}();t.default=h},"Ubl+":function(e,t){},Vtdi:function(e,t,n){"use strict";var r=a(n("q1tI")),o=a(n("i8i4")),i=a(n("ERIh"));function a(e){return e&&e.__esModule?e:{default:e}}n("jG8q"),n("TOEc"),(0,a(n("XEqi")).default)(),o.default.render(r.default.createElement(i.default,null),document.getElementById("root"))},"X+Jx":function(e,t){},Xqdq:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("q1tI"),i=u(o);n("0Kr1");var a=n("9OY/"),s=u(n("jqb2")),c=u(n("17x9"));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={submitConfig:{submiting:!1,submittext:"提交"}},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"activeEvent",value:function(e,t){e.preventDefault();for(var n=document.getElementsByClassName("select-circle"),r=0;r<n.length;r++)n[r].setAttribute("class","select-circle");n[t].setAttribute("class","select-circle select-active")}},{key:"submitEvent",value:function(){var e=this;this.setState({submitConfig:{submiting:!0,submittext:"正在提交,请稍后~"}}),setTimeout(function(){s.default.emit("showWarn",{warnText:"提交成功,感谢你的支持~",warnFlag:"success",hideFlag:!0}),setTimeout(function(){e.setState({submitConfig:{submiting:!1,submittext:"提交"}}),s.default.emit("showWarn",{warnText:"提交成功,感谢你的支持~",warnFlag:"success",hideFlag:!1});e.context.router.history.push("/personal")},3e3)},3e3)}},{key:"render",value:function(){var e=this;return i.default.createElement("div",{className:"feedback-container"},i.default.createElement("textarea",{placeholder:"请写下您的意见或建议"}),i.default.createElement("div",{className:"select-type-container"},i.default.createElement("h4",null,"请选择反馈类型"),i.default.createElement("div",{className:"select-type-group"},i.default.createElement("p",{className:"select-type-item",onClick:function(t){e.activeEvent(t,0)}},i.default.createElement("span",{className:"select-circle select-active"}),i.default.createElement("span",{className:"select-text"},"功能建议")),i.default.createElement("p",{className:"select-type-item",onClick:function(t){e.activeEvent(t,1)}},i.default.createElement("span",{className:"select-circle"}),i.default.createElement("span",{className:"select-text"},"程序bug")),i.default.createElement("p",{className:"select-type-item",onClick:function(t){e.activeEvent(t,2)}},i.default.createElement("span",{className:"select-circle"}),i.default.createElement("span",{className:"select-text"},"其他")))),i.default.createElement("div",{className:"submit-btn",onClick:(0,a.throttle)(this.submitEvent.bind(this),1e3)},this.state.submitConfig.submittext))}}]),t}();l.contextTypes={router:c.default.object.isRequired},t.default=l},ZKRp:function(e,t){},Zl4P:function(e,t){},aDTi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("q1tI"),i=function(e){return e&&e.__esModule?e:{default:e}}(o);n("3VZt");var a=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"render",value:function(){var e=this.props.payers,t=e.slice(0,5).map(function(e,t){return i.default.createElement("li",{className:"payers-user-item",id:e.wxId,key:t},i.default.createElement("img",{className:"payers-user-logo",alt:"logo",src:e.logo}))});return i.default.createElement("div",{className:"payers-container"},i.default.createElement("div",{className:"payers-count"},i.default.createElement("i",{className:"payers-logo icon iconfont icon-haoping"}),i.default.createElement("span",{className:"payers-num"},e.length,"人已购买")),i.default.createElement("ul",{className:"payers-name"},t))}}]),t}();t.default=a},dc4C:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("q1tI"),i=function(e){return e&&e.__esModule?e:{default:e}}(o);n("ZKRp");var a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={logo:n("pbbO")},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"render",value:function(){return i.default.createElement("div",{className:"tips-container"},i.default.createElement("div",{className:"tip-container"},i.default.createElement("img",{src:this.state.logo}),i.default.createElement("p",{className:"tip-content"},this.props.tip)))}}]),t}();t.default=a},dwBH:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("q1tI"),i=function(e){return e&&e.__esModule?e:{default:e}}(o);n("qFRg");var a=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"render",value:function(){return i.default.createElement("div",{className:"success"===this.props.warnFlag?"warn-container success-warn":"warn-container fail-warn"},i.default.createElement("i",{className:"success"===this.props.warnFlag?"warning icon iconfont icon-dui":"warning icon iconfont icon-cuo"}),i.default.createElement("span",null,this.props.warnText))}}]),t}();t.default=a},"e/xA":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("q1tI"),i=s(o);n("Am96");n("9OY/");var a=s(n("17x9"));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={index:0,bookTypeList:[]},n.activeEvent=n.activeEvent.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"activeEvent",value:function(e,t){this.setState({index:e}),this.props.handleSetBookType(t)}},{key:"render",value:function(){var e=this,t=[];return this.props.bookTypeList.map(function(n,r){t.push(i.default.createElement("li",{key:r+1,className:r==e.state.index?"li-item active":"li-item",onClick:e.activeEvent.bind(e,r,n.typeId),"data-type":n.typeId,"data-index":r},n.typeTitle))}),i.default.createElement("div",{className:"header-top"},i.default.createElement("ul",{className:"top-ul"},t))}}]),t}();c.propTypes={handleSetBookType:a.default.func.isRequired},t.default=c},ekIS:function(e,t){},fBeD:function(e,t){},jqb2:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("fiWp");t.default=new r.EventEmitter},"l/fQ":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("q1tI"),i=function(e){return e&&e.__esModule?e:{default:e}}(o);n("Zl4P"),n("Q33a"),n("GzUj");var a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={pics:""},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"render",value:function(){var e=i.default.createElement("div",{className:"m-pic-cover"},i.default.createElement("img",{className:"m-pic-content m-pic",id:"pic",src:this.state.pics}));return i.default.createElement("div",{className:"img-container"},e)}},{key:"componentWillReceiveProps",value:function(e){this.setState({pics:e.pics});var t=(new Date).getTime();document.getElementById("pic").addEventListener("click",function(){(new Date).getTime()-t<500?document.getElementsByClassName("img-container")[0].style.display="none":(t=(new Date).getTime(),console.log("click"))})}}]),t}();t.default=a},loMg:function(e,t){},oIGu:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("q1tI"),i=p(o);n("ekIS");var a=p(n("JlVM")),s=p(n("e/xA")),c=p(n("dc4C")),u=p(n("vDqi")),l=n("sS9P"),f=n("9OY/");function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={bookTypeList:[],bookContactList:[],tip:"敬请期待-_-"},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"render",value:function(){var e=null,t=null;return this.state.bookTypeList.length>0&&(e=i.default.createElement(s.default,{bookTypeList:this.state.bookTypeList,handleSetBookType:this.handleSetBookType.bind(this)})),t=0===this.state.bookContactList.length?i.default.createElement(c.default,{tip:this.state.tip}):i.default.createElement(a.default,{bookList:this.state.bookContactList}),i.default.createElement("div",{className:"content-container"},e,t)}},{key:"handleSetBookType",value:function(e){var t=this,n={wxId:(0,l.getUser)().wxId},r={bookType:e};u.default.all([(0,l.getBookList)(r),(0,l.getUserInfo)(n)]).then(u.default.spread(function(e,n){if(e.data.code===f.ERROR_OK&&n.data.code===f.ERROR_OK){var r=Object.prototype.toString.call(n.data.data);if(e.data.data.length>0&&"[object Object]"===r&&n.data.data.books.length>0){var o=n.data.data.books,i=e.data.data,a=[];o.forEach(function(e){a=(0,f.remove)(i,e)}),t.setState({bookContactList:a})}else t.setState({bookContactList:e.data.data})}}))}},{key:"componentWillMount",value:function(){var e=this,t={wxId:(0,l.getUser)().wxId};u.default.all([(0,l.getBookTypeList)(),(0,l.getBookList)({bookType:0}),(0,l.getUserInfo)(t)]).then(u.default.spread(function(t,n,r){if(t.data.code===f.ERROR_OK&&n.data.code===f.ERROR_OK&&r.data.code===f.ERROR_OK){var o=Object.prototype.toString.call(r.data.data);if(n.data.data.length>0&&"[object Object]"===o&&r.data.data.books.length>0){var i=r.data.data.books,a=n.data.data,s=[];i.forEach(function(e){s=(0,f.remove)(a,e)}),e.setState({bookContactList:s})}else e.setState({bookContactList:n.data.data});e.setState({bookTypeList:t.data.data})}}))}}]),t}();t.default=h},oYx3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("q1tI"),i=p(o),a=n("eO8H"),s=p(n("1G4F")),c=p(n("oIGu")),u=p(n("NCY0")),l=p(n("7E3l")),f=p(n("UB3k"));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"render",value:function(){return i.default.createElement(a.Switch,null,i.default.createElement(a.Route,{exact:!0,path:"/",component:s.default}),i.default.createElement(a.Route,{path:"/blogList",component:s.default}),i.default.createElement(a.Route,{path:"/home",component:c.default}),i.default.createElement(a.Route,{path:"/saled",component:u.default}),i.default.createElement(a.Route,{path:"/personal",component:l.default}),i.default.createElement(a.Route,{path:"/brochure/:id/:pay",component:f.default}))}}]),t}();t.default=h},pbbO:function(e,t,n){e.exports=n.p+"static/img/default.jpg?561429f3eaed5e8e4e72fe01078a2a02"},ppA0:function(e,t){},ppxf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("q1tI"),i=l(o),a=l(n("yac/"));n("GJ7Q");var s=l(n("17x9")),c=n("sS9P"),u=l(n("l/fQ"));function l(e){return e&&e.__esModule?e:{default:e}}n("Q33a"),n("GzUj");var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={currentIndex:0,isClick:!0,picShow:"",option:{speed:400,continuous:!1,transitionEnd:function(e,t){n.transitionEndCallback(e,t)}}},n.next=n.next.bind(n),n.prev=n.prev.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"transitionEndCallback",value:function(e,t){var n=null;n=0===e,this.setState({isClick:n})}},{key:"next",value:function(e){this.setState({isClick:!1}),this.reactSwipe.next()}},{key:"prev",value:function(e){this.setState({isClick:!0}),this.reactSwipe.prev()}},{key:"redirectChapter",value:function(e,t,n){n.preventDefault();var r=this.context.router.route.match.params.id,o=!1;if("payed"!==this.props.payFlag&&0!==t&&t!==this.props.bookIntro.chapters.length-1||(o=!0),"payed"===this.props.payFlag){var i={};localStorage.getItem("history")?(i=JSON.parse(localStorage.getItem("history")))[r]=e:i[r]=e,localStorage.setItem("history",JSON.stringify(i))}var a="/chapter/"+r+"/"+e+"/"+this.props.payFlag+"/"+o;this.context.router.history.push(a)}},{key:"render",value:function(){var e=this,t=[];return this.props.bookIntro.chapters.map(function(n,r){var o=null;o=0!==r&&r!==e.props.bookIntro.chapters.length-1||"nopay"!==e.props.payFlag?"nopay"===e.props.payFlag?i.default.createElement("i",{className:"chapter-is-pay icon iconfont icon-suo"}):i.default.createElement("i",null):i.default.createElement("i",{className:"chapter-is-pay try"},"试读");var a=i.default.createElement("li",{className:"chapter-item",key:r,"data-id":n.id,onClick:function(t){return e.redirectChapter(n.id,r,t)}},i.default.createElement("span",{className:"flag-qid"},r+1),i.default.createElement("div",{className:"flag-qid-right"},i.default.createElement("div",null,i.default.createElement("span",{className:"flag-qid-title"},n.title),i.default.createElement("p",{className:"chapter-status"},i.default.createElement("span",null,"时长:",n.time),i.default.createElement("span",null,n.browser,"次学习"))),o));t.push(a)}),i.default.createElement("div",{className:"intro-chapter-container"},i.default.createElement("div",{className:"intro-chapter-tab"},i.default.createElement("span",{className:this.state.isClick?"intro-active":"",onClick:this.prev},"目录"),i.default.createElement("span",{className:this.state.isClick?"":"intro-active",onClick:this.next},"介绍"),i.default.createElement("i",{className:this.state.isClick?"":"i-active"})),i.default.createElement("div",{className:"intro-chapter-swiper"},i.default.createElement(a.default,{ref:function(t){return e.reactSwipe=t},className:"carousel",swipeOptions:this.state.option},i.default.createElement("div",{className:"box"},i.default.createElement("div",{className:"chapter-scroll"},i.default.createElement("ul",null,t))),i.default.createElement("div",{className:"box"},i.default.createElement("div",{className:"chapter-scroll"},i.default.createElement("div",{className:"intro-description"},i.default.createElement("div",{id:"mark-down-container"})))))),i.default.createElement(u.default,{pics:this.state.picShow}))}},{key:"componentWillMount",value:function(){var e=this,t={url:this.props.bookIntro.introUrl};(0,c.getIntroMd)(t).then(function(t){var r=new(n("M55E").Converter);document.getElementById("mark-down-container").innerHTML=r.makeHtml(t.data);for(var o=document.getElementsByTagName("img"),i=e,a=0;a<o.length;a++)o[a].addEventListener("click",function(){i.setState({picShow:this.src}),document.getElementsByClassName("img-container")[0].style.display="block",new Pic(".m-pic").picInit()})})}},{key:"componentDidMount",value:function(){var e=document.getElementsByClassName("brochure-container")[0].clientHeight-document.getElementsByClassName("bookDes-container")[0].clientHeight-document.getElementsByClassName("payers-container")[0].clientHeight-document.getElementsByClassName("operate-container")[0].clientHeight-document.getElementsByClassName("intro-chapter-tab")[0].clientHeight-30;document.getElementsByClassName("carousel")[0].style.height=e+"px",document.getElementsByClassName("chapter-scroll")[0].style.height=e+"px",document.getElementsByClassName("chapter-scroll")[1].style.height=e+"px"}}]),t}();f.contextTypes={router:s.default.object.isRequired},t.default=f},qFRg:function(e,t){},s79A:function(e,t){},sS9P:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBookTypeTotal=t.getBook=t.getUserInfo=t.getBookList=t.getBlogList=t.getBookTypeList=t.getBannerList=t.getIntroMd=t.getUser=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n("vDqi"));var o={"web-flag":"wexin"};t.getUser=function(){return{wxId:"98f69e89-3885-480c-9852-46c77e5fecc3",wxName:"三叶草",logo:"../../../static/img/b.jpg"}},t.getIntroMd=function(e){var t=e.url;return r.default.get(t,{params:e}).then(function(e){return Promise.resolve(e)}).catch(function(e){return Promise.reject(e)})},t.getBannerList=function(e){return r.default.get("/mso/banner/list",{headers:o,params:e}).then(function(e){return Promise.resolve(e)}).catch(function(e){return Promise.reject(e)})},t.getBookTypeList=function(e){return r.default.get("/mso/bookType/list",{headers:o,params:e}).then(function(e){return Promise.resolve(e)}).catch(function(e){return Promise.reject(e)})},t.getBlogList=function(e){return r.default.get("/mso/blog/list",{headers:o,params:e}).then(function(e){return Promise.resolve(e)}).catch(function(e){return Promise.reject(e)})},t.getBookList=function(e){var t=null;switch(e.bookType){case 0:t="../src/mock/bookList/bookList-0.json";break;case 1:t="../src/mock/bookList/bookList-1.json";break;case 2:t="../src/mock/bookList/bookList-2.json";break;case 3:t="../src/mock/bookList/bookList-3.json";break;case 4:t="../src/mock/bookList/bookList-4.json";break;case 5:t="../src/mock/bookList/bookList-5.json";break;case 6:t="../src/mock/bookList/bookList-6.json"}return r.default.get(t).then(function(e){return Promise.resolve(e)}).catch(function(e){return Promise.reject(e)})},t.getUserInfo=function(e){var t="../src/mock/users/"+e.wxId+".json";return r.default.get(t).then(function(e){return Promise.resolve(e)}).catch(function(e){return Promise.reject(e)})},t.getBook=function(e){var t="../src/mock/bookList/"+e.id+".json";return r.default.get(t).then(function(e){return Promise.resolve(e)}).catch(function(e){return Promise.reject(e)})},t.getBookTypeTotal=function(){return r.default.get("/mso/bookType/getTotal",{headers:o}).then(function(e){return Promise.resolve(e)}).catch(function(e){return Promise.reject(e)})}},zhw5:function(e,t){}},[["Vtdi",2,1]]]);
//# sourceMappingURL=app.ce119a3723be962d78ce.js.map